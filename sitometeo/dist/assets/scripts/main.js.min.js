"use strict";var weatherForm=document.getElementById("weatherForm"),input=document.querySelector(".header-section input"),cities=document.querySelector(".ajax-section .card-wrapper"),message=document.querySelector(".msg"),apiKey="4d8fb5b93d4af21d66a2948710284366";function rimuovi(e){e.parentNode.parentNode.remove()}weatherForm.addEventListener("submit",function(e){e.preventDefault();var t=input.value,e=cities.querySelectorAll(".ajax-section .card"),e=Array.from(e);if(0<e.length){e=e.filter(function(e){return(t.includes(",")?2<t.split(",")[1].length?(t=t.split(",")[0],e.querySelector(".card__name span").textContent.toLowerCase()):e.querySelector(".card__name").dataset.name.toLowerCase():e.querySelector(".card__name span").textContent.toLowerCase())==t.toLowerCase()});if(0<e.length)return message.textContent='Hai già cercato questa città "'.concat(e[0].querySelector(".card__name span").textContent,'"'),weatherForm.reset(),void input.focus()}e="https://api.openweathermap.org/data/2.5/weather?q=".concat(t,"&lang=it&appid=").concat(apiKey,"&units=metric");fetch(e).then(function(e){return e.json()}).then(function(e){var t=e.main,n=e.name,a=e.sys,r=e.weather,e=e.id,c=(r[0].icon,"https://openweathermap.org/img/wn/".concat(r[0].icon,"@2x.png")),r=r[0].description,o=document.createElement("li"),e=(o.classList.add("card"),o.dataset.identity=e,t.temp<=5?0:25<=t.temp&&0,'\n                <h2  class="card__name">\n                    <span>'.concat(n,"</span>\n                    <sup>").concat(a.country,'</sup>\n                </h2>\n                <div class="card__temp">\n                    <span>').concat(Math.round(t.temp),'</span>\n                    <sup>°C</sup>\n                </div>\n                <figure class="card__figure">\n                    <img class="card__icon" src="').concat(c,'" alt="').concat(r,'">\n                    <figcaption>').concat(r,"</figcaption>\n                    <div class='close' onclick='rimuovi(this)'>\n                        <p>x</p>\n                    </div>\n                </figure>\n\n            "));o.innerHTML=e,cities.appendChild(o)}).catch(function(){message.textContent="Città inesistente, ritenta sarai più fortunato",input.classList.add("error")}),input.classList.remove("error"),message.textContent="",weatherForm.reset()});var a=$(".el");console.log(a);